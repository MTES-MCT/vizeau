import { BaseSeeder } from '@adonisjs/lucid/seeders'
import ExploitationTag from '#models/exploitation_tag'
import { typesActiviteAgricole } from '../../inertia/functions/cultures_types.js'

export default class ExploitationTagSeeder extends BaseSeeder {
  public async run() {
    for (const [groupName, group] of Object.entries(typesActiviteAgricole)) {
      for (const { label } of Object.values(group)) {
        const existing = await ExploitationTag.findBy('name', label)
        if (!existing) {
          await ExploitationTag.create({ name: label, group: groupName })
        }
      }
    }
  }
}
