import { ExploitationJson } from '../../../types/models'
import SectionCard from '~/ui/SectionCard'
import LabelInfo from '~/ui/LabelInfo'
import CustomTag from '~/ui/CustomTag'

export function ExploitationInformationCard({ exploitation }: { exploitation: ExploitationJson }) {
  // No card displayed if no legal information is available
  if (
    !exploitation.denominationLegale &&
    !exploitation.siret &&
    !exploitation.activite &&
    !exploitation.formeJuridique &&
    (!exploitation.tags || exploitation.tags.length === 0)
  ) {
    return null
  }

  return (
    <SectionCard icon={'fr-icon-pass-pending-line'} title="Informations légales" size={'small'}>
      {exploitation.denominationLegale && (
        <LabelInfo label="Dénomination" info={exploitation.denominationLegale} />
      )}
      {exploitation.siret && <LabelInfo label="SIRET" info={exploitation.siret} />}
      {exploitation.activite && <LabelInfo label="Activité" info={exploitation.activite} />}
      {exploitation.formeJuridique && (
        <LabelInfo label="Forme juridique" info={exploitation.formeJuridique} />
      )}
      {exploitation.tags && exploitation.tags.length > 0 && (
        <LabelInfo
          label="Types d'agriculture"
          info={exploitation.tags.map((tag) => (
            <CustomTag label={tag.name} key={tag.id} />
          ))}
        />
      )}
    </SectionCard>
  )
}
