import cultures from '../../../database/data/cultures.json'
import ListItem from '~/ui/ListItem'

export type ExploitationParcellesListProps = {
  parcelles: {
    rpgId: string
    surface?: number | undefined
    cultureCode?: string | undefined
    year: number
  }[]
}

export default function ExploitationParcellesList({ parcelles }: ExploitationParcellesListProps) {
  return (
    <>
      {parcelles.map((parcelle) => (
        <ListItem
          key={parcelle.rpgId}
          hasBorder
          variant="compact"
          title={`Parcelle RPG ${parcelle.rpgId}`}
          tags={[
            {
              label:
                cultures.find((culture) => culture.code === parcelle.cultureCode)?.label ||
                'Culture inconnue',
            },
          ]}
          metas={[
            { content: `${parcelle.surface} ha`, iconId: 'fr-icon-ruler-line' },
            { content: parcelle.year.toString(), iconId: 'fr-icon-calendar-line' },
          ]}
        />
      ))}
    </>
  )
}
