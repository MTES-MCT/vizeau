import { fr } from '@codegouvfr/react-dsfr'
import Tooltip from '@codegouvfr/react-dsfr/Tooltip'
import type { ExploitationJson } from '../../types/models.ts'
import LabelInfo from '~/ui/LabelInfo/index.js'
import SectionCard from '~/ui/SectionCard/index.js'

export default function VisualisationExploitationInfos({
  exploitation,
}: {
  exploitation: ExploitationJson
}) {
  return (
    <SectionCard title="Informations générales" icon="fr-icon-pass-pending-line" size="small">
      <div className="flex flex-col gap-3">
        <LabelInfo label="Dénomination" info={exploitation?.denominationLegale || 'N/A'}/>
        <LabelInfo label="SIRET" info={exploitation?.siret || 'N/A'} />
        <LabelInfo label="Activité principale (NAF / APE)" info={exploitation?.activite || 'N/A'} />
        <LabelInfo label="Forme juridique" info={exploitation?.formeJuridique || 'N/A'} />
        <LabelInfo
          label="Adresse"
          info={
            (exploitation?.addressLine1 || '') +
            ' ' +
            (exploitation?.commune || '') +
            ' ' +
            (exploitation?.postalCode || '')
          }
        />

        {exploitation.contacts && exploitation.contacts?.length > 0 && (
            <LabelInfo
              label="Contact principal"
              info={
                <>
                  {exploitation.contacts[0].firstName + ' ' + exploitation.contacts[0].lastName ||
                    'N/A'}
                  <span className="fr-pl-1w">
                    <Tooltip
                      title={
                        <div>
                          <div>
                            <span
                              className="fr-icon-user-line fr-icon--sm fr-pr-1w"
                              style={{
                                color: fr.colors.decisions.text.actionHigh.blueFrance.default,
                              }}
                            />
                            {exploitation.contacts[0].role || 'N/A'}
                          </div>
                          <div>
                            <span
                              className="fr-icon-mail-line fr-icon--sm fr-pr-1w"
                              style={{
                                color: fr.colors.decisions.text.actionHigh.blueFrance.default,
                              }}
                            />
                            {exploitation.contacts[0].email || 'N/A'}
                          </div>
                        </div>
                      }
                    />
                  </span>
                </>
              }
            />
        )}
      </div>
    </SectionCard>
  )
}
