import { Alert } from '@codegouvfr/react-dsfr/Alert'
import Input from '@codegouvfr/react-dsfr/Input'

import SectionCard from '~/ui/SectionCard'

export default function exploitationContact({
  exploitationContact,
  setExploitationContact,
  error,
}: {
  exploitationContact: any
  setExploitationContact: (value: any) => void
  error?: any
}) {
  return (
    <div>
      <SectionCard title="Contact" icon="fr-icon-user-star-line" background="secondary">
        <Alert
          description="Optionnel, mais recommandé : Ajouter un contact permet de simplifier les échanges et d’identifier facilement l’interlocuteur principal."
          severity="info"
          small
        />
        <div className="fr-grid-row">
          <Input
            label="Prénom"
            className="fr-col-6 fr-mt-4w fr-p-1w"
            nativeInputProps={{
              placeholder: 'Entrer le prénom du contact',
              defaultValue: exploitationContact?.firstName || '',
              onChange: (e) =>
                setExploitationContact({ ...exploitationContact, firstName: e.target.value }),
            }}
          />
          <Input
            label="Nom"
            className="fr-col-6 fr-mt-4w fr-p-1w"
            nativeInputProps={{
              placeholder: 'Entrer le nom du contact',
              defaultValue: exploitationContact?.lastName || '',
              onChange: (e) =>
                setExploitationContact({ ...exploitationContact, lastName: e.target.value }),
            }}
          />
        </div>
        <div>
          <Input
            label="Rôle"
            hintText="Exploitant(e), conjoint(e), enfant de la personne exploitante, parent de la personne exploitante, comptable"
            className="fr-p-1w"
            nativeInputProps={{
              placeholder: 'Entrer le rôle du contact',
              defaultValue: exploitationContact?.role || '',
              onChange: (e) =>
                setExploitationContact({ ...exploitationContact, role: e.target.value }),
            }}
          />
        </div>
        <div className="flex justify-between">
          <Input
            label="E-mail"
            className="fr-mt-4w fr-p-1w w-1/2 fr-m-1w"
            state={error?.contactEmail && 'error'}
            stateRelatedMessage="L’adresse e-mail n’est pas valide."
            nativeInputProps={{
              type: 'email',
              placeholder: 'Entrer l’adresse e-mail du contact',
              defaultValue: exploitationContact?.email || '',
              onChange: (e) =>
                setExploitationContact({ ...exploitationContact, email: e.target.value }),
            }}
          />
          <Input
            label="Téléphone"
            className="fr-mt-4w fr-p-1w w-1/2 fr-m-1w"
            state={error?.contactPhoneNumber && 'error'}
            stateRelatedMessage="Le numéro de téléphone n’est pas valide."
            nativeInputProps={{
              type: 'tel',
              placeholder: 'Entrer le numéro de téléphone du contact',
              defaultValue: exploitationContact?.phoneNumber || '',
              onChange: (e) =>
                setExploitationContact({ ...exploitationContact, phoneNumber: e.target.value }),
            }}
          />
        </div>
      </SectionCard>
    </div>
  )
}
