import { Table } from '@codegouvfr/react-dsfr/Table'
import { ExploitationJson } from '../../../types/models'

export default function ExploitationsTable({
  exploitations = [],
}: {
  exploitations?: ExploitationJson[]
}) {
  return (
    exploitations.length > 0 && (
      <div>
        <Table
          bordered
          fixed
          headers={[
            <div>
              <span className="fr-icon-map-pin-user-line fr-icon--sm" /> Organisation
            </div>,
            <div>
              <span className="fr-icon-user-line fr-icon--sm" /> Utilisateur
            </div>,
            <div>
              <span className="fr-icon-mail-line fr-icon--sm" /> Email
            </div>,
            <div>
              <span className="fr-icon-phone-line fr-icon--sm" /> Téléphone
            </div>,
            <div>
              <span className="fr-icon-map-pin-2-line fr-icon--sm" /> Localisation
            </div>,
          ]}
          data={exploitations.map((exploitation) => [
            [exploitation.name],
            [exploitation.contacts?.[0]?.name || 'N/A'],
            [exploitation.contacts?.[0]?.email || 'N/A'],
            [exploitation.contacts?.[0]?.phoneNumber || 'N/A'],
            [exploitation.commune || 'N/A'],
          ])}
        />
      </div>
    )
  )
}
