import { Link } from '@inertiajs/react'
import { fr } from '@codegouvfr/react-dsfr'
import { ExploitationJson } from '../../../types/models'

export default function ExploitationsListItem({
  exploitation,
}: {
  exploitation: ExploitationJson
}) {
  return (
    <Link key={exploitation.id} href={`/exploitations/${exploitation.id}`}>
      <div className="fr-p-1w fr-mb-2w">
        <b>{exploitation.name}</b>
      </div>
      <div className="flex">
        {exploitation.contacts && exploitation.contacts.length > 0 ? (
          <>
            {' '}
            <small className="fr-p-1w">
              <span
                className="fr-icon-user-line fr-icon--sm fr-mr-1v"
                style={{ color: fr.colors.decisions.text.actionHigh.blueFrance.default }}
              ></span>
              <span style={{ color: fr.colors.decisions.text.mention.grey.default }}>
                {exploitation.contacts[0].name}
              </span>
            </small>
            <small className="fr-p-1w">
              <span
                className="fr-icon-mail-line fr-icon--sm fr-mr-1v"
                style={{ color: fr.colors.decisions.text.actionHigh.blueFrance.default }}
              ></span>
              <span style={{ color: fr.colors.decisions.text.mention.grey.default }}>
                {exploitation.contacts[0].email}
              </span>
            </small>
            <small className="fr-p-1w">
              <span
                className="fr-icon-phone-line fr-icon--sm fr-mr-1v"
                style={{ color: fr.colors.decisions.text.actionHigh.blueFrance.default }}
              ></span>
              <span style={{ color: fr.colors.decisions.text.mention.grey.default }}>
                {exploitation.contacts[0].phoneNumber}
              </span>
            </small>
          </>
        ) : null}
        <small className="fr-p-1w">
          <span
            className="fr-icon-map-pin-2-line fr-icon--sm fr-mr-1v"
            style={{ color: fr.colors.decisions.text.actionHigh.blueFrance.default }}
          ></span>
          <span style={{ color: fr.colors.decisions.text.mention.grey.default }}>
            {exploitation.location
              ? `(${exploitation.location.x}, ${exploitation.location.y})`
              : 'N/A'}
          </span>
        </small>
      </div>
    </Link>
  )
}
